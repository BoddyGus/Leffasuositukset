<!DOCTYPE html>
<html>
<head>
  <title>Lisää elokuva</title>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>
<body>

  <h1>Lisää elokuva</h1>

  {% if session.username %}
    <p>Olet kirjautunut nimellä {{ session.username }}</p>
  {% endif %}

  <p class="nav-links">
    <a href="{{ url_for('reviews_bp.index') }}">Etusivu</a>
    | <a href="{{ url_for('reviews_bp.about') }}">Tietoa sovelluksesta</a>
    {% if not session.username %}
      | <a href="{{ url_for('user_bp.register') }}">Rekisteröidy</a>
      | <a href="{{ url_for('user_bp.login') }}">Kirjaudu</a>
    {% else %}
      | <a href="{{ url_for('user_bp.profile', username=session.username) }}">Profiili</a>
      | <a href="/logout">Kirjaudu ulos</a>
      | <a href="/new_item">Lisää uusi elokuva</a>
    {% endif %}
  </p>


  <form action="/items/create" method="post">
    <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}">
    <p>
      <label for="new_title">Nimi:</label>
      <input id="new_title" type="text" name="title" required maxlength="75" />
      <small class="hint-text">Enintään 75 merkkiä</small>
    </p>
    <p>
      <label for="new_genre">Tyylilaji (genre):</label>
      <select id="new_genre" name="genre" required>
        <option value="" disabled selected>-- valitse genre --</option>
        {% for g in allowed_genres %}
          <option value="{{ g }}">{{ g }}</option>
        {% endfor %}
      </select>
    </p>
    <p>
      Tunnisteet (tunnelma): <br />
      {% for t in tags %}
        <label class="tag-checkbox">
          <input type="checkbox" name="tags" value="{{ t.id }}" /> {{ t.name_fi }}
        </label>
      {% endfor %}
    </p>
    <p>
      <label for="new_age_rating">Ikäraja:</label>
      <select id="new_age_rating" name="age_rating" required>
        <option value="" disabled selected>-- valitse ikäraja --</option>
        <option value="U">U – Sallittu kaikenikäisille</option>
        <option value="PG">PG – Vanhempien harkinta suositeltavaa</option>
        <option value="12">12 – Kielletty alle 12-vuotiailta</option>
        <option value="15">15 – Kielletty alle 15-vuotiailta</option>
        <option value="18">18 – Kielletty alle 18-vuotiailta</option>
      </select>
    </p>
    <p>
      <label for="new_year">Vuosi:</label>
      <input id="new_year" type="number" name="year" min="1888" max="{{ current_year }}" required />
    </p>
    <p>
      <label for="new_description">Kuvaus:</label>
      <textarea id="new_description" name="description" rows="4" cols="40" maxlength="350"></textarea><br />
      <small class="hint-text">Enintään 350 merkkiä</small>
    </p>
    <input type="submit" value="Tallenna" />
    <a href="/">Peruuta</a>
  </form>
</body>
</html>